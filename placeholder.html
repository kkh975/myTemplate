<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<title>Placeholder | myComponent</title>
	<link rel="stylesheet" type="text/css" href="style/base.css">
	<link rel="stylesheet" type="text/css" href="style/default_layout.css">
	<link rel="stylesheet" type="text/css" href="style/default_component.css">
	<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>

	<!-- guide -->
	<link rel="stylesheet" type="text/css" href="guide/style.css">
	<script src="guide/script.js"></script>
</head>
<body>

<div class="guide_wrap">
	<h1 class="guide_h1">Placeholder</h1>
	<p class="guide_p"></p>


	<script type="text/javascript">
		$.fn.myPlaceholder = function( _option ){
			var isSupportBrower = (function(){
				var test = document.createElement('input');
				return 'placeholder' in test
			})()

			return this.each( function(){
				var $this = $( this ),
					initTxt = $this.attr('placeholder')

				var option = $.extend({
					isForce: false,
					activeClass: 'myPlaceholder_active',
					installCallback: null,
					activeCallback: null
				}, _option)

				// 강제 설정이 아닌경우, 브라우저 체크 후 패스
				if (!option.isForce && isSupportBrower) {
					return
				}

				function activeCheck() {
					if ($this.val().length == 0) {
						$this.val( initTxt )
						$this.addClass( option.activeClass )
					} else {
						$this.removeClass( option.activeClass )
					}

					// 설치 후 콜백
					if (typeof(option.activeCallback) == 'function') {
						option.activeCallback()
					}
				}

				$this
					.on('focus', function(e){
						if ($this.val() == initTxt) {
							$this.val('');
						}

						$this.removeClass( option.activeClass )
					})
					.on('blur', function(e){
						activeCheck()

						// 설치 후 콜백
						if (typeof(option.activeCallback) == 'function') {
							option.activeCallback()
						}
					});

				// 초기화
				$this.attr('placeholder', '');
				activeCheck()

				// 설치 후 콜백
				if (typeof(option.installCallback) == 'function') {
					option.installCallback()
				}
			})
		}
	</script>


	<h2 class="guide_h2">Option</h2>
	<div class="guide_option">
	</div>


	<h2 class="guide_h2">Use</h2>
	<div class="guide_option">
	</div>


	<h2 class="guide_h2">Test</h2>
	<div class="guide_test">

		<input type="text" name="" class="myPlaceholder1" placeholder="test1">
		<input type="text" name="" class="myPlaceholder2" placeholder="test2">
		<input type="text" name="" value="hasName" class="myPlaceholder3" placeholder="test3">

	</div>

	<script type="text/javascript">
		$('.myPlaceholder1').myPlaceholder({
			installCallback: function() {
				console.log( 'install' )
			}
		})
		$('.myPlaceholder2').myPlaceholder({
			isForce: true,
			installCallback: function() {
				console.log( 'install' )
			},
			activeCallback: function() {
				console.log( 'active' )	
			}
		})
		$('.myPlaceholder3').myPlaceholder({
			isForce: true,
			installCallback: function() {
				console.log( 'install' )
			},
			activeCallback: function() {
				console.log( 'active' )	
			}
		})
	</script>
</div>

</body>
</html>